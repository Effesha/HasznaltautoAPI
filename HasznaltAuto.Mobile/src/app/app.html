<div style="font-family: Arial, sans-serif; padding: 16px; max-width: 800px; margin:auto;">
  <h2>Cars</h2>

  <div *ngIf="error" style="color: red; margin-bottom:8px;">{{ error }}</div>

  <button (click)="load()">Frissít</button>
  <button (click)="newCar()" style="margin-left:8px;">Új</button>

  <hr />

  <div style="display:flex; gap:24px;">
    <div>
      <h3>Lista</h3>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Ár (ft)</th>
            <th>Márka</th>
            <th>Modell</th>
            <th>Rendszám</th>
            <th>Futásteljesítmény (km)</th>
            <th>Gyártási év</th>
            <th>Üzemanyag</th>
            <th>Műveletek</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let car of cars">
            <td>{{ car?.price }}</td>
            <td>{{ car?.makeName }}</td>
            <td>{{ car?.modelName }}</td>
            <td>{{ car?.vehicleRegistrationDto?.licensePlate }}</td>
            <td>{{ car?.mileage }}</td>
            <td>{{ car?.productionDate | date:'yyyy' }}</td>
            <td>{{ car?.fuelTypeName }}</td>
            <td>
              <button (click)="get(car)" class="btn btn-sm btn-primary">Részletek</button>
              <button (click)="edit(car)" class="btn btn-sm btn-primary">Szerkeszt</button>
              <button (click)="remove(car)" class="btn btn-sm btn-danger">Törlés</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div style="flex:1;">
      <div *ngIf="selected">
        <h3>Részletek</h3>
        <p><strong>Id:</strong> {{ selected?.id }}</p>
        <p><strong>Név:</strong> {{ selected?.makeName }}</p>
        <p><strong>Leírás:</strong> {{ selected?.modelName }}</p>
        <button (click)="cancel()">Bezár</button>
      </div>

      <div *ngIf="isNew || editModel.id">
        <h3 *ngIf="isNew">Új elem</h3>
        <h3 *ngIf="!isNew">Szerkesztés</h3>
        <form (ngSubmit)="save()">
          <div>
            <label>Márka</label><br />
            <input name="makeName" [(ngModel)]="editModel.makeName" disabled="disabled" />
          </div>
          <div style="margin-top:8px;">
            <label>Modell</label><br />
            <input name="modelName" [(ngModel)]="editModel.modelName" disabled="disabled" />
          </div>
          <div style="margin-top:8px;">
            <label>Ár (ft)</label><br />
            <input name="price" [(ngModel)]="editModel.price" />
          </div>
          <div style="margin-top:8px;">
            <label>Rendszám</label><br />
            <input name="licensePlate" [(ngModel)]="editModel.vehicleRegistrationDto.licensePlate" />
          </div>
          <div style="margin-top:8px;">
            <label>Futásteljesítmény (km)</label><br />
            <input name="mileage" [(ngModel)]="editModel.mileage" />
          </div>
          <div style="margin-top:8px;">
            <button type="submit">Mentés</button>
            <button type="button" (click)="cancel()" style="margin-left:8px;">Mégse</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
