syntax = "proto3";

option csharp_namespace = "HasznaltAuto";

import "Protos/car.proto";
import "Protos/base.proto";

service HasznaltAutoGrpc {
	rpc ListCars(Empty) returns (stream CarType) {}
	rpc ListCarsFiltered(ListCarsFilteredRequest) returns (stream CarType) {} 
	rpc GetCar(GetCarRequest) returns (CarType) {}
	rpc CreateCar(CreateCarRequest) returns (ResultResponse) {}
	rpc UpdateCar(UpdateCarRequest) returns (ResultResponse) {}
	rpc DeleteCar(DeleteCarRequest) returns (ResultResponse) {}
	rpc BuyCar(BuyCarRequest) returns (ResultResponse) {}
}

message ListCarsFilteredRequest {
	int32 price_min = 1;
	int32 price_max = 2;
	string production_date_min = 3;
	string production_date_max = 4;
	int32 mileage_min = 5;
	int32 mileage_max = 6;
	string fuel_type = 7;
	string make = 8;
	string model = 9;
}

message GetCarRequest {
	int32 car_id = 1;
}

message CreateCarRequest {
	string session_id = 1;
	CarType car = 2;
}

message UpdateCarRequest {
	string session_id = 1;
	CarType car = 2;
}

message DeleteCarRequest {
	string session_id = 1;
	int32 car_id = 2;
	int32 current_user = 3;
}

message BuyCarRequest {
	string session_id = 1;
	int32 car_id = 2;
	int32 current_user = 3;
}


